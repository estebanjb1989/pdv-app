{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Alert = _interopRequireDefault(require(\"react-native-web/dist/exports/Alert\"));\n\nvar _component = require(\"../../component\");\n\nvar _styles = _interopRequireDefault(require(\"./styles\"));\n\nvar _electron = require(\"electron\");\n\nvar _hook = require(\"../../hook\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar inventoryMock = [{\n  id: 1,\n  productId: 4,\n  barcode: '111',\n  description: 'CEPILLO',\n  price: 20\n}, {\n  id: 2,\n  productId: 5,\n  barcode: '222',\n  description: 'JABON',\n  price: 40\n}];\n\nvar PDV = function PDV() {\n  var _React$useState = _react.default.useState([]),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      cartItems = _React$useState2[0],\n      setCartItems = _React$useState2[1];\n\n  (0, _hook.useHeaderTitle)(\"Punto de venta\");\n  (0, _hook.useBackButton)();\n  (0, _hook.useScanner)(function (barcode) {\n    var scannedProduct = inventoryMock.find(function (item) {\n      return item.barcode === barcode;\n    });\n\n    if (!scannedProduct) {\n      alert(barcode + ' no encontrado');\n    } else {\n      updateCart(scannedProduct);\n    }\n  });\n\n  var updateCart = function updateCart(scannedProduct) {\n    var existingItem = cartItems.find(function (item) {\n      return item.productId === scannedProduct.productId;\n    });\n    alert(JSON.stringify(cartItems));\n\n    if (existingItem) {\n      setCartItems(cartItems.map(function (item) {\n        return item.productId === scannedProduct.productId ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: item.quantity + 1\n        }) : item;\n      }));\n    } else {\n      setCartItems([].concat((0, _toConsumableArray2.default)(cartItems), [_objectSpread({\n        id: cartItems.length + 1,\n        quantity: 1\n      }, scannedProduct)]));\n    }\n  };\n\n  var calculateTotal = function calculateTotal() {\n    return cartItems.reduce(function (carry, value) {\n      return carry + value.price * value.quantity;\n    }, 0);\n  };\n\n  var handleDelete = function handleDelete(item) {\n    return function () {\n      if (item.quantity === 1) {\n        setCartItems(cartItems.filter(function (cartItem) {\n          return cartItem.productId !== item.productId;\n        }));\n        return;\n      }\n\n      setCartItems(cartItems.map(function (cartItem) {\n        return cartItem.productId === item.productId ? _objectSpread(_objectSpread({}, cartItem), {}, {\n          quantity: cartItem.quantity - 1\n        }) : cartItem;\n      }));\n    };\n  };\n\n  var handleFinish = function handleFinish() {\n    setCartItems([]);\n  };\n\n  return (0, _jsxRuntime.jsxs)(_component.Container, {\n    flex: true,\n    spaceBetween: true,\n    children: [(0, _jsxRuntime.jsx)(_component.Container, {\n      row: true,\n      spaceBetween: true,\n      padded: true,\n      children: (0, _jsxRuntime.jsxs)(_component.Container, {\n        fullWidth: true,\n        children: [!cartItems.length && (0, _jsxRuntime.jsx)(_component.Text.Body, {\n          children: \"Comience a escanear...\"\n        }), cartItems.map(function (item) {\n          return (0, _jsxRuntime.jsxs)(_component.Container, {\n            flex: true,\n            row: true,\n            spaceBetween: true,\n            children: [(0, _jsxRuntime.jsxs)(_component.Container, {\n              children: [(0, _jsxRuntime.jsx)(_component.Text.Small, {\n                children: \"PRODUCTO\"\n              }), (0, _jsxRuntime.jsx)(_component.Text.TitleH1, {\n                children: item.description\n              })]\n            }), (0, _jsxRuntime.jsxs)(_component.Container, {\n              children: [(0, _jsxRuntime.jsx)(_component.Text.Small, {\n                children: \"PRECIO x CANTIDAD\"\n              }), (0, _jsxRuntime.jsxs)(_component.Container, {\n                row: true,\n                alignCenter: true,\n                children: [(0, _jsxRuntime.jsxs)(_component.Text.TitleH1, {\n                  children: [item.price, \" ARS\"]\n                }), (0, _jsxRuntime.jsx)(_component.Spacer.Small, {}), (0, _jsxRuntime.jsx)(_component.Text.Body, {\n                  children: \"X\"\n                }), (0, _jsxRuntime.jsx)(_component.Spacer.Small, {}), (0, _jsxRuntime.jsx)(_component.Text.TitleH1, {\n                  children: item.quantity\n                })]\n              })]\n            }), (0, _jsxRuntime.jsxs)(_component.Container, {\n              children: [(0, _jsxRuntime.jsx)(_component.Text.Small, {\n                children: \"SUBTOTAL\"\n              }), (0, _jsxRuntime.jsxs)(_component.Container, {\n                row: true,\n                alignCenter: true,\n                children: [(0, _jsxRuntime.jsxs)(_component.Text.TitleH1, {\n                  children: [item.price * item.quantity, \" ARS\"]\n                }), (0, _jsxRuntime.jsx)(_component.Spacer.Medium, {}), (0, _jsxRuntime.jsx)(_component.Container, {\n                  onPress: handleDelete(item),\n                  children: (0, _jsxRuntime.jsx)(_component.Text.TitleH3, {\n                    children: \"Quitar\"\n                  })\n                })]\n              })]\n            })]\n          });\n        })]\n      })\n    }), (0, _jsxRuntime.jsxs)(_component.Container, {\n      row: true,\n      alignEnd: true,\n      spaceBetween: true,\n      padded: true,\n      children: [(0, _jsxRuntime.jsxs)(_component.Container, {\n        children: [(0, _jsxRuntime.jsx)(_component.Text.Small, {\n          children: \"TOTAL\"\n        }), (0, _jsxRuntime.jsxs)(_component.Text.TitleH1, {\n          children: [calculateTotal(), \" ARS\"]\n        })]\n      }), (0, _jsxRuntime.jsx)(_component.Container, {\n        onPress: handleFinish,\n        children: (0, _jsxRuntime.jsx)(_component.Text.TitleH1, {\n          children: \"Finalizar\"\n        })\n      })]\n    })]\n  });\n};\n\nvar _default = PDV;\nexports.default = _default;","map":{"version":3,"sources":["/Users/estebanjoaquin/src/examples/with-electron/views/PDV/index.js"],"names":["inventoryMock","id","productId","barcode","description","price","PDV","cartItems","setCartItems","React","useHeaderTitle","useBackButton","useScanner","scannedProduct","item","alert","updateCart","existingItem","JSON","quantity","calculateTotal","carry","value","handleDelete","cartItem","handleFinish"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Alert } from 'react-native'\nimport { Container, Text, Spacer } from '../../component'\nimport styles from './styles'\nimport { dialog } from 'electron'\nimport { useBackButton, useScanner, useHeaderTitle } from '../../hook'\n\nconst inventoryMock = [{\n    id: 1,\n    productId: 4,\n    barcode: '111',\n    description: 'CEPILLO',\n    price: 20,\n}, {\n    id: 2,\n    productId: 5,\n    barcode: '222',\n    description: 'JABON',\n    price: 40,\n}]\n\nconst PDV = () => {\n    const [cartItems, setCartItems] = React.useState([])\n\n    useHeaderTitle(\"Punto de venta\")\n    useBackButton()\n    useScanner((barcode) => {\n        const scannedProduct = inventoryMock.find(item => (\n            item.barcode === barcode\n        ))\n        if (!scannedProduct) {\n            alert(barcode + ' no encontrado')\n        }\n        else {\n            updateCart(scannedProduct)\n        }\n    })\n\n    const updateCart = (scannedProduct) => {\n        const existingItem = cartItems.find(item => (\n            item.productId === scannedProduct.productId\n        ))\n        alert(JSON.stringify(cartItems))\n        if (existingItem) {\n\n            setCartItems(cartItems.map(item => (\n                item.productId === scannedProduct.productId ?\n                    { ...item, quantity: item.quantity + 1 } : item\n            )))\n        }\n        else {\n\n            setCartItems([\n                ...cartItems,\n                {\n                    id: cartItems.length + 1,\n                    quantity: 1,\n                    ...scannedProduct,\n                }\n            ])\n        }\n    }\n\n    const calculateTotal = () => {\n        return cartItems.reduce((carry, value) => {\n            return carry + (value.price * value.quantity)\n        }, 0)\n    }\n\n    const handleDelete = (item) => () => {\n        if (item.quantity === 1) {\n            setCartItems(cartItems.filter(cartItem => (\n                cartItem.productId !== item.productId\n            )))\n            return\n        }\n\n        setCartItems(\n            cartItems.map(cartItem => (\n                cartItem.productId === item.productId ?\n                    { ...cartItem, quantity: cartItem.quantity - 1 } : cartItem\n            ))\n        )\n    }\n\n    const handleFinish = () => {\n        setCartItems([])\n\n    }\n\n    return (\n        <Container flex spaceBetween>\n            <Container row spaceBetween padded>\n                <Container fullWidth>\n                    {!cartItems.length &&\n                        <Text.Body>Comience a escanear...</Text.Body>}\n                    {cartItems.map(item => (\n                        <Container flex row spaceBetween>\n                            <Container>\n                                <Text.Small>PRODUCTO</Text.Small>\n                                <Text.TitleH1>\n                                    {item.description}\n                                </Text.TitleH1>\n                            </Container>\n                            <Container>\n                                <Text.Small>PRECIO x CANTIDAD</Text.Small>\n                                <Container row alignCenter>\n                                    <Text.TitleH1>\n                                        {item.price} ARS\n                                    </Text.TitleH1>\n                                    <Spacer.Small />\n                                    <Text.Body>X</Text.Body>\n                                    <Spacer.Small />\n                                    <Text.TitleH1>{item.quantity}</Text.TitleH1>\n                                </Container>\n                            </Container>\n                            <Container>\n                                <Text.Small>SUBTOTAL</Text.Small>\n                                <Container row alignCenter>\n                                    <Text.TitleH1>\n                                        {item.price * item.quantity} ARS\n                                </Text.TitleH1>\n                                    <Spacer.Medium />\n                                    <Container onPress={handleDelete(item)}>\n                                        <Text.TitleH3>Quitar</Text.TitleH3>\n                                    </Container>\n                                </Container>\n                            </Container>\n                        </Container>\n                    ))}\n                </Container>\n\n            </Container>\n            <Container row alignEnd spaceBetween padded>\n                <Container>\n                    <Text.Small>TOTAL</Text.Small>\n                    <Text.TitleH1>{calculateTotal()} ARS</Text.TitleH1>\n                </Container>\n                <Container onPress={handleFinish}>\n                    <Text.TitleH1>Finalizar</Text.TitleH1>\n                </Container>\n            </Container>\n        </Container>\n    );\n}\n\nexport default PDV\n"]},"metadata":{},"sourceType":"script"}