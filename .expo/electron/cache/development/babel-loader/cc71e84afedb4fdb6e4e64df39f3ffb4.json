{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _contentful = _interopRequireDefault(require(\"services/contentful\"));\n\nvar _useRefrescar = _interopRequireDefault(require(\"./useRefrescar\"));\n\nvar _store = _interopRequireDefault(require(\"services/store\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar useAnuncios = function useAnuncios() {\n  var iglesia = (0, _store.default)(function (state) {\n    return state.iglesia;\n  });\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      anuncios = _useState2[0],\n      setAnuncios = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      anunciosAsset = _useState4[0],\n      setAnunciosAsset = _useState4[1];\n\n  var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      anunciosIglesiaSeleccionada = _useState6[0],\n      setAnunciosIglesiaSeleccionada = _useState6[1];\n\n  var refrescar = function refrescar() {\n    _contentful.default.getAnuncios(function (data) {\n      setAnuncios(data);\n      setAnunciosAsset(data.includes.Asset);\n    }, function (error) {\n      console.log(error);\n    });\n  };\n\n  (0, _react.useEffect)(function () {\n    refrescar();\n  }, [iglesia]);\n  (0, _react.useEffect)(function () {\n    var _anuncios$items;\n\n    setAnunciosIglesiaSeleccionada(anuncios === null || anuncios === void 0 ? void 0 : (_anuncios$items = anuncios.items) === null || _anuncios$items === void 0 ? void 0 : _anuncios$items.filter(function (anuncio) {\n      return anuncio.fields.iglesia === (iglesia === null || iglesia === void 0 ? void 0 : iglesia.codigo);\n    }));\n  }, [anuncios, iglesia]);\n  return {\n    anunciosIglesia: anunciosIglesiaSeleccionada === null || anunciosIglesiaSeleccionada === void 0 ? void 0 : anunciosIglesiaSeleccionada.sort(function (a, b) {\n      return a.fields.orden - b.fields.orden;\n    }),\n    getAsset: function getAsset(item) {\n      return item.fields.video && (anunciosAsset === null || anunciosAsset === void 0 ? void 0 : anunciosAsset.find(function (anuncioAsset) {\n        return anuncioAsset.sys.id === item.fields.video.sys.id;\n      }));\n    }\n  };\n};\n\nvar _default = useAnuncios;\nexports.default = _default;","map":{"version":3,"sources":["/Users/estebanjoaquin/src/examples/with-electron/hook/useAnuncios.js"],"names":["useAnuncios","iglesia","useStore","state","anuncios","setAnuncios","useState","anunciosAsset","setAnunciosAsset","anunciosIglesiaSeleccionada","setAnunciosIglesiaSeleccionada","refrescar","contentful","data","console","useEffect","anuncio","anunciosIglesia","a","b","getAsset","item","anuncioAsset"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport contentful from 'services/contentful'\nimport useRefrescar from './useRefrescar'\nimport useStore from 'services/store'\n\nconst useAnuncios = () => {\n    const iglesia = useStore(state => state.iglesia)\n    const [anuncios, setAnuncios] = useState(null);\n    const [anunciosAsset, setAnunciosAsset] = useState(null);\n    const [anunciosIglesiaSeleccionada, setAnunciosIglesiaSeleccionada] = useState(null)\n\n    const refrescar = () => {\n        contentful.getAnuncios(\n            (data) => {\n                setAnuncios(data)\n                setAnunciosAsset(data.includes.Asset)\n            },\n            (error) => {\n                console.log(error)\n            }\n        )\n    }\n\n    useEffect(() => {\n        refrescar()\n    }, [iglesia])\n\n    useEffect(() => {\n        setAnunciosIglesiaSeleccionada(anuncios?.items?.filter(anuncio => anuncio.fields.iglesia === iglesia?.codigo))\n    }, [anuncios, iglesia])\n\n    return {\n        anunciosIglesia: anunciosIglesiaSeleccionada?.sort((a, b) => {\n            return a.fields.orden - b.fields.orden\n        }),\n        getAsset: (item) => {\n            return item.fields.video &&\n                anunciosAsset?.find(\n                    (anuncioAsset) => anuncioAsset.sys.id === item.fields.video.sys.id\n                );\n        },\n    }\n}\n\nexport default useAnuncios"]},"metadata":{},"sourceType":"script"}