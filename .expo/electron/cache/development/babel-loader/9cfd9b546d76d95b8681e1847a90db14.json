{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar useScanner = function useScanner(_ref) {\n  var onScan = _ref.onScan;\n\n  var handleKeypress = function handleKeypress(ev) {\n    if (buffer.length === 0 && ev.key !== '[') {\n      return;\n    }\n\n    if (ev.key === '[') {\n      buffer = '';\n    }\n\n    buffer += ev.key;\n    alert(buffer);\n\n    if (ev.key === 'Enter') {\n      var barcode = buffer.substring(1, buffer.length - 5);\n      onScan(barcode);\n      buffer = '';\n    }\n  };\n\n  _react.default.useEffect(function () {\n    document.addEventListener('keypress', handleKeypress);\n    return function () {\n      document.removeEventListener('keypress', handleKeypress);\n    };\n  }, []);\n\n  return null;\n};\n\nvar _default = useScanner;\nexports.default = _default;","map":{"version":3,"sources":["/Users/estebanjoaquin/src/examples/with-electron/hook/useScanner.js"],"names":["useScanner","onScan","handleKeypress","buffer","ev","alert","barcode","React","document"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,UAAU,GAAVA,SAAAA,UAAAA,CAAa,IAAbA,EAA6B;AAAbC,MAAAA,MAAa,GAAA,IAAA,CAAbA,MAAAA;;AAClB,MAAMC,cAAc,GAAdA,SAAAA,cAAAA,CAAiB,EAAjBA,EAAyB;AAC3B,QAAIC,MAAM,CAANA,MAAAA,KAAAA,CAAAA,IAAuBC,EAAE,CAAFA,GAAAA,KAA3B,GAAA,EAA2C;AACvC;AAEJ;;AAAA,QAAIA,EAAE,CAAFA,GAAAA,KAAJ,GAAA,EAAoB;AAChBD,MAAAA,MAAM,GAANA,EAAAA;AAGJA;;AAAAA,IAAAA,MAAM,IAAIC,EAAE,CAAZD,GAAAA;AACRE,IAAAA,KAAK,CAALA,MAAK,CAALA;;AACQ,QAAID,EAAE,CAAFA,GAAAA,KAAJ,OAAA,EAAwB;AAEpB,UAAME,OAAO,GAAGH,MAAM,CAANA,SAAAA,CAAAA,CAAAA,EAAoBA,MAAM,CAANA,MAAAA,GAApC,CAAgBA,CAAhB;AACAF,MAAAA,MAAM,CAANA,OAAM,CAANA;AACAE,MAAAA,MAAM,GAANA,EAAAA;AAEP;AAhBD,GAAA;;AAkBAI,iBAAAA,SAAAA,CAAgB,YAAM;AAClBC,IAAAA,QAAQ,CAARA,gBAAAA,CAAAA,UAAAA,EAAAA,cAAAA;AACA,WAAO,YAAM;AACTA,MAAAA,QAAQ,CAARA,mBAAAA,CAAAA,UAAAA,EAAAA,cAAAA;AADJ,KAAA;AAFJD,GAAAA,EAAAA,EAAAA;;AAOA,SAAA,IAAA;AA1BJ,CAAA;;eA6BA,U","sourcesContent":["import React from 'react'\n\nconst useScanner = ({ onScan }) => {\n    const handleKeypress = (ev) => {\n        if (buffer.length === 0 && ev.key !== '[') {\n            return\n        }\n        if (ev.key === '[') {\n            buffer = ''\n        }\n\n        buffer += ev.key\nalert(buffer)\n        if (ev.key === 'Enter') {\n            //alert(buffer.substring(1, buffer.length - 5))\n            const barcode = buffer.substring(1, buffer.length - 5)\n            onScan(barcode)\n            buffer = ''\n        }\n    }\n\n    React.useEffect(() => {\n        document.addEventListener('keypress', handleKeypress)\n        return () => {\n            document.removeEventListener('keypress', handleKeypress)\n        }\n    }, [])\n\n    return null\n}\n\nexport default useScanner"]},"metadata":{},"sourceType":"script"}