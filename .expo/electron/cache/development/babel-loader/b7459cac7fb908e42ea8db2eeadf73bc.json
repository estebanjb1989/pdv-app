{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reducer = exports.initialState = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _lodash = require(\"lodash\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nvar initialState = {};\nexports.initialState = initialState;\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!action.type.includes('/')) {\n    return state;\n  }\n\n  var _action$type$split = action.type.split(['/']),\n      _action$type$split2 = (0, _slicedToArray2.default)(_action$type$split, 2),\n      reducerKey = _action$type$split2[0],\n      actionName = _action$type$split2[1];\n\n  if (reducerKey === 'request') {\n    return state;\n  }\n\n  var names = actionName.split('_');\n  names = names.slice(0, names.length - 1);\n  names = (0, _lodash.camelCase)(names);\n  var errors = null;\n\n  if (action.type.includes('ERROR')) {\n    var _action$payload, _action$payload$respo, _action$payload2, _action$payload2$resp, _action$payload3, _action$payload3$resp;\n\n    errors = JSON.stringify(_objectSpread({\n      status: (_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : (_action$payload$respo = _action$payload.response) === null || _action$payload$respo === void 0 ? void 0 : _action$payload$respo.status,\n      statusText: (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : (_action$payload2$resp = _action$payload2.response) === null || _action$payload2$resp === void 0 ? void 0 : _action$payload2$resp.statusText\n    }, (_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : (_action$payload3$resp = _action$payload3.response) === null || _action$payload3$resp === void 0 ? void 0 : _action$payload3$resp.data));\n  }\n\n  var nextState = _objectSpread(_objectSpread({}, state), {}, (0, _defineProperty2.default)({}, reducerKey, _objectSpread(_objectSpread({}, state[reducerKey]), {}, (0, _defineProperty2.default)({}, names, errors))));\n\n  return nextState;\n};\n\nexports.reducer = reducer;","map":{"version":3,"sources":["/Users/estebanjoaquin/src/examples/pdv-app/redux/modules/error.js"],"names":["initialState","reducer","state","action","reducerKey","actionName","names","camelCase","errors","JSON","status","statusText","nextState"],"mappings":"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","sourcesContent":["import { camelCase } from 'lodash'\n\nexport const initialState = {}\n\nexport const reducer = (state = initialState, action = {}) => {\n  if (!action.type.includes('/')) {\n    return state\n  }\n\n  const [reducerKey, actionName] = action.type.split(['/'])\n\n  if (reducerKey === 'request') {\n    return state\n  }\n\n  let names = actionName.split('_')\n  names = names.slice(0, names.length - 1)\n  names = camelCase(names)\n\n  let errors = null\n\n  if (action.type.includes('ERROR')) {\n    errors = JSON.stringify({\n      status: action.payload?.response?.status,\n      statusText: action.payload?.response?.statusText,\n      ...action.payload?.response?.data,\n    })\n  }\n\n  const nextState = {\n    ...state,\n    [reducerKey]: {\n      ...state[reducerKey],\n      [names]: errors,\n    },\n  }\n\n  return nextState\n}\n"]},"metadata":{},"sourceType":"script"}