{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStore = exports.getPersistor = void 0;\n\nvar _RootReducer = require(\"./RootReducer\");\n\nvar _reduxThunk = _interopRequireDefault(require(\"redux-thunk\"));\n\nvar _reduxSaga = _interopRequireDefault(require(\"redux-saga\"));\n\nvar _reduxLogger = require(\"redux-logger\");\n\nvar _redux = require(\"redux\");\n\nvar _reduxPersist = require(\"redux-persist\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-community/async-storage\"));\n\nvar _RootSaga = _interopRequireDefault(require(\"./RootSaga\"));\n\nvar persistConfig = {\n  key: 'root',\n  storage: _asyncStorage.default,\n  whitelist: ['session', 'user']\n};\nvar persistedReducer = (0, _reduxPersist.persistReducer)(persistConfig, _RootReducer.RootReducer);\nvar store = null;\nvar saga = (0, _reduxSaga.default)();\n\nvar getStore = function getStore() {\n  if (!store) {\n    var middleware = [_reduxThunk.default, saga];\n\n    if (__DEV__) {\n      middleware.push((0, _reduxLogger.createLogger)({\n        collapsed: true\n      }));\n    }\n\n    store = (0, _redux.createStore)(persistedReducer, {}, _redux.applyMiddleware.apply(void 0, middleware));\n    saga.run(_RootSaga.default);\n  }\n\n  return store;\n};\n\nexports.getStore = getStore;\n\nvar getPersistor = function getPersistor() {\n  return (0, _reduxPersist.persistStore)(store);\n};\n\nexports.getPersistor = getPersistor;","map":{"version":3,"sources":["/Users/estebanjoaquin/src/examples/pdv-app/redux/Store.js"],"names":["persistConfig","key","storage","whitelist","persistedReducer","persistReducer","store","saga","getStore","middleware","createLogger","collapsed","createStore","applyMiddleware","getPersistor","persistStore"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,aAAa,GAAG;AACpBC,EAAAA,GAAG,EADiB,MAAA;AAEpBC,EAAAA,OAAO,EAFa,qBAAA;AAGpBC,EAAAA,SAAS,EAAE,CAAA,SAAA,EAHb,MAGa;AAHS,CAAtB;AAMA,IAAMC,gBAAgB,GAAGC,kCAAc,aAAdA,EAAzB,wBAAyBA,CAAzB;AACA,IAAIC,KAAK,GAAT,IAAA;AACA,IAAMC,IAAI,GAAV,yBAAA;;AAEO,IAAMC,QAAQ,GAARA,SAAAA,QAAAA,GAAiB;AAC5B,MAAI,CAAJ,KAAA,EAAY;AACV,QAAMC,UAAU,GAAG,CAAA,mBAAA,EAAnB,IAAmB,CAAnB;;AAEA,QAAA,OAAA,EAAa;AACXA,MAAAA,UAAU,CAAVA,IAAAA,CACEC,+BAAa;AACXC,QAAAA,SAAS,EAFbF;AACe,OAAbC,CADFD;AAOFH;;AAAAA,IAAAA,KAAK,GAAGM,wBAAW,gBAAXA,EAAW,EAAXA,EAGNC,uBAAAA,KAAAA,CAAAA,KAAAA,CAAAA,EAHFP,UAGEO,CAHMD,CAARN;AAKAC,IAAAA,IAAI,CAAJA,GAAAA,CAAAA,iBAAAA;AAGF;;AAAA,SAAA,KAAA;AApBK,CAAA;;;;AAuBA,IAAMO,YAAY,GAAZA,SAAAA,YAAAA,GAAe;AAAA,SAAMC,gCAAN,KAAMA,CAAN;AAArB,CAAA","sourcesContent":["/* global __DEV__ */\nimport { RootReducer } from './RootReducer'\nimport thunk from 'redux-thunk'\nimport createSagaMiddleware from 'redux-saga'\nimport { createLogger } from 'redux-logger'\nimport { createStore, applyMiddleware } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport AsyncStorage from '@react-native-community/async-storage'\nimport RootSaga from './RootSaga'\n\nconst persistConfig = {\n  key: 'root',\n  storage: AsyncStorage,\n  whitelist: ['session', 'user'],\n}\n\nconst persistedReducer = persistReducer(persistConfig, RootReducer)\nlet store = null\nconst saga = createSagaMiddleware()\n\nexport const getStore = () => {\n  if (!store) {\n    const middleware = [thunk, saga]\n\n    if (__DEV__) {\n      middleware.push(\n        createLogger({\n          collapsed: true,\n        })\n      )\n    }\n\n    store = createStore(\n      persistedReducer,\n      {},\n      applyMiddleware(...middleware)\n    )\n    saga.run(RootSaga)\n  }\n\n  return store\n}\n\nexport const getPersistor = () => persistStore(store)\n"]},"metadata":{},"sourceType":"script"}